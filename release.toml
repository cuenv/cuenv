# Configuration for cargo-release
# See: https://github.com/crate-ci/cargo-release/blob/master/docs/reference.md

[workspace]
# Allow releasing all packages in the workspace
allow-branch = ["main"]
# Consolidate all commits for a release into a single commit
consolidate-commits = true
# All packages share the same version
shared-version = "workspace"
# Not independent versioning
independent = false

[default]
# Don't publish to crates.io by default (handled by CI)
publish = false
# Don't push tags (handled by release-please)
tag = false
# Don't push to remote (handled by release-please)
push = false
# Verify before any release operations
verify = true

# Pre-release commit message
pre-release-commit-message = "chore: Release v{{version}}"

# Crate-specific publishing settings
[packages.cuenv-workspaces]
publish = true

[packages.cuenv-core]
publish = true

[packages.cuengine]
publish = true

[packages.cuenv-cli]
publish = true

[packages.schema-validator]
publish = false
